<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>Os Números são dados simples disponibilizados pela linguagem Scheme, que
representam o próprio valor na base 10</title>

<style id="dynCom" type="text/css"><!-- --></style>
<script language="JavaScript"><!--
function msoCommentShow(anchor_id, com_id)
{
	if(msoBrowserCheck()) 
		{
		c = document.all(com_id);
		a = document.all(anchor_id);
		if (null != c && null == c.length && null != a && null == a.length)
			{
			var cw = c.offsetWidth;
			var ch = c.offsetHeight;
			var aw = a.offsetWidth;
			var ah = a.offsetHeight;
			var x  = a.offsetLeft;
			var y  = a.offsetTop;
			var el = a;
			while (el.tagName != "BODY") 
				{
				el = el.offsetParent;
				x = x + el.offsetLeft;
				y = y + el.offsetTop;
				}
			var bw = document.body.clientWidth;
			var bh = document.body.clientHeight;
			var bsl = document.body.scrollLeft;
			var bst = document.body.scrollTop;
			if (x + cw + ah / 2 > bw + bsl && x + aw - ah / 2 - cw >= bsl ) 
				{ c.style.left = x + aw - ah / 2 - cw; }
			else 
				{ c.style.left = x + ah / 2; }
			if (y + ch + ah / 2 > bh + bst && y + ah / 2 - ch >= bst ) 
				{ c.style.top = y + ah / 2 - ch; }
			else 
				{ c.style.top = y + ah / 2; }
			c.style.visibility = "visible";
}	}	}
function msoCommentHide(com_id) 
{
	if(msoBrowserCheck())
		{
		c = document.all(com_id);
		if (null != c && null == c.length)
		{
		c.style.visibility = "hidden";
		c.style.left = -1000;
		c.style.top = -1000;
		} } 
}
function msoBrowserCheck()
{
	ms = navigator.appVersion.indexOf("MSIE");
	vers = navigator.appVersion.substring(ms + 5, ms + 6);
	ie4 = (ms > 0) && (parseInt(vers) >= 4);
	return ie4;
}
if (msoBrowserCheck())
{
	document.styleSheets.dynCom.addRule(".msocomanchor","background: infobackground");
	document.styleSheets.dynCom.addRule(".msocomoff","display: none");
	document.styleSheets.dynCom.addRule(".msocomtxt","visibility: hidden");
	document.styleSheets.dynCom.addRule(".msocomtxt","position: absolute");
	document.styleSheets.dynCom.addRule(".msocomtxt","top: -1000");
	document.styleSheets.dynCom.addRule(".msocomtxt","left: -1000");
	document.styleSheets.dynCom.addRule(".msocomtxt","width: 33%");
	document.styleSheets.dynCom.addRule(".msocomtxt","background: infobackground");
	document.styleSheets.dynCom.addRule(".msocomtxt","color: infotext");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-top: 1pt solid threedlightshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-right: 2pt solid threedshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-bottom: 2pt solid threedshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-left: 1pt solid threedlightshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","padding: 3pt 3pt 3pt 3pt");
	document.styleSheets.dynCom.addRule(".msocomtxt","z-index: 100");
}
// --></script>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:Garamond;
	panose-1:2 2 4 4 3 3 1 1 8 3;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
h1
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:21.6pt;
	text-align:justify;
	text-indent:-21.6pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri Light",sans-serif;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:28.8pt;
	text-align:justify;
	text-indent:-28.8pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	font-weight:normal;}
h3
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	text-align:justify;
	text-indent:-36.0pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Garamond",serif;
	font-weight:normal;}
h4
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:43.2pt;
	text-align:justify;
	text-indent:-43.2pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Garamond",serif;}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:50.4pt;
	text-align:justify;
	text-indent:-50.4pt;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h6
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:57.6pt;
	text-align:justify;
	text-indent:-57.6pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Garamond",serif;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Heading 7 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:64.8pt;
	text-align:justify;
	text-indent:-64.8pt;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;
	font-style:italic;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"Heading 8 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:72.0pt;
	text-align:justify;
	text-indent:-72.0pt;
	page-break-after:avoid;
	font-size:10.5pt;
	font-family:"Calibri Light",sans-serif;
	color:#272727;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"Heading 9 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:79.2pt;
	text-align:justify;
	text-indent:-79.2pt;
	page-break-after:avoid;
	font-size:10.5pt;
	font-family:"Calibri Light",sans-serif;
	color:#272727;
	font-style:italic;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-link:"Comment Text Char";
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	text-align:justify;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
span.CommentTextChar
	{mso-style-name:"Comment Text Char";
	mso-style-link:"Comment Text";}
.MsoChpDefault
	{font-size:10.0pt;}
 /* Page Definitions */
 @page WordSection1
	{size:612.0pt 792.0pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=en-PT link=blue vlink=purple style='word-wrap:break-word'>

<div class=WordSection1>

<div style='border:solid windowtext 1.0pt;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#B4C6E7'>

<h1 align=center style='margin-top:18.0pt;margin-right:0cm;margin-bottom:12.0pt;
margin-left:0cm;text-align:center;text-indent:0cm;background:#B4C6E7;
border:none;padding:0cm'><span lang=PT style='color:black'>O jogo da &quot;Travessia
da estrada&quot;</span></h1>

</div>

<p class=MsoNormal><span lang=PT-BR>Neste tutorial iremos desenvolver um jogo
gráfico que apresenta ao jogador o desafio de atravessar ruas bastante
movimentadas... Este jogo é uma versão simplificada do clássico </span><span
lang=PT><a href="https://en.wikipedia.org/wiki/Crossy_Road"><span lang=PT-BR>Crossy
Road</span></a></span><span lang=PT-BR>, um jogo para smartphone lançado em
2014. O nome e conceito do jogo foi baseado na piada ''Porque é que a Galinha
atravessou a Rua?&quot;.</span></p>

<p class=MsoNormal align=center style='margin-top:0cm;text-align:center'><span
style='font-size:12.0pt;font-family:"Times New Roman",serif'><img border=0
width=112 height=200 id="Picture 2" src="t10b_travessia.fld/image001.jpg"
alt="A picture containing toy, truck, orange, green&#10;&#10;Description automatically generated"></span></p>

<p class=MsoNormal align=center style='margin-top:0cm;text-align:center'><span
lang=PT-BR>Crossy Road - </span><span lang=PT><a
href="https://en.wikipedia.org/wiki/Crossy_Road"><span lang=PT-BR>wikipedia</span></a></span></p>

<h1><span lang=PT>1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT>Preparação do jogo</span></h1>

<p class=MsoNormal><span lang=PT>Este jogo será desenvolvido num ambiente
gráfico, utilizando o módulo p5.</span></p>

<p class=MsoNormal><span lang=PT>Iremos definir estas três constantes:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>LARGURA</span><span
lang=PT> - largura da janela gráfica;</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>ALTURA</span><span
lang=PT> = altura da janela gráfica;</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>NIVEL</span><span
lang=PT> = definição do layout do nível do jogo, definindo as estradas e o seu
sentido (1 para a direita ou -1 para a esquerda) ou as faixas sem trânsito (0).</span></p>

<p class=MsoNormal><span lang=PT>E estas são calculadas com base nas
anteriores:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>DELTA</span><span
lang=PT> - as dimensões da quadrícula;</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>COMP</span><span
lang=PT> = número de quadrículas nas estradas.</span></p>

<p class=MsoNormal><span lang=PT>E também necessitaremos de variáveis globais:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>jogador</span><span
lang=PT> - posição do jogador;</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>filas</span><span
lang=PT> - lista com as filas de tráfego;</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>timer</span><span
lang=PT> - temporizador - guarda os segundos da última atualização.</span></p>

<p class=MsoNormal><span lang=PT>Comece o seu ficheiro de código fonte com as
seguintes instruções:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>from
p5 import *</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>import
random</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
definições globais</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>LARGURA
= 600</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>ALTURA
= 400</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>NIVEL
= [0, -1, -1, 1, 1, 0, -1, -1, 1, 0, -1, 1, 0] # 0-passeio; 1-direita,
-1-esquerda</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>DELTA
= ALTURA // len (NIVEL) # dimenções da quadrícula</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>COMP
= LARGURA // DELTA # numero de quadrículas das estradas </span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
variáveis globais</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>jogador
= []</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>filas
= []</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>timer
= 0</span></p>

<h1><span lang=PT>2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT>A abstração Fila</span></h1>

<p class=MsoNormal><span lang=PT>O jogo envolve &quot;filas de tráfego&quot;,
pelo que a abstração mais indicada para o realizar será a Fila. Esta é uma
abstração que permite guardar uma sequência de dados, possibilitando a fácil
inserção de dados no final da fila e a fácil extração de informação do início
da fila. É assim uma estrutura FIFO (First In First Out).</span></p>

<p class=MsoNormal><span lang=PT>Não existe uma abstração de dados em Python
que implemente na totalidade o conceito de Fila, pelo que iremos utilizar a
abstração Fila definida na secção 10.2:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>##################</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
ABSTRAÇÃO FILA #</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>##################</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
construtor</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
cria_fila():</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>  
 return []</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
seletores</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
fila_vazia(fila):</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>if
len (fila) == 0:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
return True</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
else:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
</span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>return
False</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
frente_da_fila(fila):</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>if
not fila_vazia(fila):</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
return fila[0]</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
else:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
return False</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>def
cauda_da_fila(fila):</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
if not fila_vazia(fila):</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
return fila[-1]</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
else:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
return False</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
modificadores</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
entra_na_fila(fila, elem):</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
fila.append(elem)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
sai_da_fila(fila):</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>if
not fila_vazia(fila):</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
return fila.pop(0)</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
else:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
return False</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>##################</span></p>

<h1><a><span lang=PT>3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT>Estruturação do jogo</span></a><span
class=MsoCommentReference><span lang=PT style='font-size:8.0pt;font-family:
"Calibri",sans-serif;font-weight:normal'><a class=msocomanchor id="_anchor_1"
onmouseover="msoCommentShow('_anchor_1','_com_1')"
onmouseout="msoCommentHide('_com_1')" href="#_msocom_1" language=JavaScript
name="_msoanchor_1">[AC1]</a>&nbsp;</span></span></h1>

<p class=MsoNormal><span lang=PT>O jogo será estruturado com base no par de
funções associadas ao módulo p5:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>setup()</span><span
lang=PT> - configuração do jogo;</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>draw()
</span><span lang=PT>- ciclo de jogo.</span></p>

<p class=MsoNormal><span lang=PT>E também uma outra função para o controlo do
jogo pelo jogador através do teclado:</span></p>

<p class=MsoListParagraph style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>key_pressed()
</span><span lang=PT>-  responde aos eventos de premir as teclas.</span></p>

<p class=MsoNormal><span lang=PT>Faremos também a decomposição do problema base,
em subproblemas que facilitem a criação do ciclo de jogo:</span></p>

<p class=MsoListParagraph style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>desloca()
</span><span lang=PT>-  desloca um ponto de acordo com um vetor definido por
(dx, dy);</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
desloca jogador</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
desloca(p, dx, dy):</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>p[0]+=
dx</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
p[1]+= dy</span></p>

<p class=MsoListParagraph style='margin-right:-28.7pt;text-indent:-18.0pt'><span
lang=PT style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>ponto()
</span><span lang=PT>- calcula as coordenadas do ecrã de uma determinada
quadrícula, definida por (linha, coluna)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
calcula as coordenadas do ecrã</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
ponto(q):</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
return (q[0]*DELTA + DELTA//2, q[1]*DELTA + DELTA//2)</span></p>

<p class=MsoListParagraph style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>fora()</span><span
lang=PT> - verifica se um determinado veículo está fora do ecrã;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
verifica se um automóvel está fora</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
fora (carro):</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
return carro[0] &lt; 0 or carro[0] &gt; COMP</span></p>

<p class=MsoListParagraph style='text-indent:-18.0pt'><span lang=PT
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>trafego()</span><span
lang=PT> - atualiza as filas de veículos deslocando os veículos.</span></p>

<p class=MsoNormal><span lang=PT>O algoritmo desta função é o seguinte:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span lang=PT>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=PT>Determinar se a temporização de 1 segundo já passou. Caso contrário,
ignora o resto da função, retornando </span><span lang=PT style='font-size:
9.0pt;font-family:"Courier New"'>True</span><span lang=PT>;</span></p>

<p class=MsoListParagraphCxSpMiddle align=left style='text-align:left;
text-indent:-18.0pt'><span lang=PT>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT>Percorre todas as filas de tráfego (-1 ou 1) e,
para cada fila de tráfego, move todos os veículos;<br>
Se por acaso o veículo, atropelou o jogador, então retorna </span><span
lang=PT style='font-size:9.0pt;font-family:"Courier New"'>False</span><span
lang=PT>, indicando o fim do jogo;</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span lang=PT>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=PT>Caso uma fila tenha menos de 10 automóveis, insere novo automóvel na
fila;</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=PT>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=PT>Caso algum automóvel fique fora do ecrã, é removido da fila.</span></p>

<p class=MsoNormal><span lang=PT>Insira o código correspondente à função </span><span
lang=PT style='font-size:9.0pt;font-family:"Courier New"'>trafego()</span><span
lang=PT>.</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
atualiza filas de veículos</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
trafego():</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
global jogador, filas, timer</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>#
timer</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
if second()==timer:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
return True</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
else:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
timer = second()</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
# gere filas</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
for i in range(len(NIVEL)-1):</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
</span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>if
NIVEL[i] != 0:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>           
# move fila de automóveis</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>           
for carro in filas[i]:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>               
desloca(carro, NIVEL[i], 0)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>               
if carro == jogador:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>                   
# se carro atropela jogador retorna falso</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>                   
return False</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>           
# insere novos carros até um máximo de 10</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>           
if len(filas[i]) &lt; 10:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>               
ultimo = cauda_da_fila(filas[i])</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>               
if ultimo:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>                   
novo = ultimo[::]</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>       
            desloca(novo, random.randint(-5, -2)*NIVEL[i], 0)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>               
elif NIVEL[i] &gt; 0:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>                   
novo = [random.randint(-2,0), i]</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>               
else:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>                   
novo = [COMP + random.randint(0, 2), i]</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>               
entra_na_fila(filas[i], novo)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>           
# remove carros que saiam do ecrã</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>           
if fora(frente_da_fila(filas[i])):</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>               
sai_da_fila(filas[i])</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>               
</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>return
True</span></p>

<h1><span lang=PT>4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT>Configuração do jogo</span></h1>

<p class=MsoNormal><span lang=PT>A configuração do jogo segue o seguinte algoritmo:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span lang=PT>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=PT>cria janela gráfica;</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span lang=PT>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=PT>cria o avatar do jogador na última linha do nível de jogo; </span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span lang=PT>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=PT>cria as filas de tráfego do nível de jogo;</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=PT>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=PT>insere tráfego nas filas de jogo... Para que o jogo não se inicie com
as estradas vazias.</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
inicialização do jogo</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
setup():</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
global jogador, filas</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
# janela</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
title(&quot;Travessia da Estrada&quot;)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
size(LARGURA, ALTURA)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
no_stroke()</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
# jogador</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
jogador = [COMP // 2, len(NIVEL)-1]</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
# filas de automóveis</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>for i
in range(len(NIVEL)-1):</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
</span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>filas.append(cria_fila())</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
# insere tráfego nas filas</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>for i
in range(10):</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
timer = -1</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
trafego()</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=75 valign=top style='width:56.45pt;border:solid windowtext 1.0pt;
  border-right:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span lang=PT><img
  border=0 width=36 height=36 id="Graphic 4"
  src="t10b_travessia.fld/image002.jpg" alt="Head with gears"></span></b></p>
  </td>
  <td width=525 valign=top style='width:394.05pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-top:0cm;text-autospace:none'><span lang=PT>&nbsp;</span></p>
  <p class=MsoNormal style='margin-top:0cm;text-autospace:none'><a><span
  lang=PT>Neste último ciclo </span></a><span lang=PT style='font-size:9.0pt;
  font-family:"Courier New"'>for </span><span lang=PT>o valor do timer é
  colocado a -1.</span><span class=MsoCommentReference><span lang=PT
  style='font-size:8.0pt'><a class=msocomanchor id="_anchor_2"
  onmouseover="msoCommentShow('_anchor_2','_com_2')"
  onmouseout="msoCommentHide('_com_2')" href="#_msocom_2" language=JavaScript
  name="_msoanchor_2">[AC2]</a>&nbsp;</span></span></p>
  <p class=MsoNormal style='margin-top:0cm;text-autospace:none'><span lang=PT>Sendo
  que a função </span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>seconds()</span><span
  lang=PT> só retorna valores entre 0 e 59, para que será necessário este
  valor?</span></p>
  <p class=MsoNormal style='margin-top:0cm;text-autospace:none'><i><span
  lang=PT>Pista: Observe o passo inicial da</span></i><span lang=PT> função </span><span
  lang=PT style='font-size:9.0pt;font-family:"Courier New"'>trafego()</span><span
  lang=PT>...</span></p>
  <p class=MsoNormal style='margin-top:0cm;text-autospace:none'><i><span
  lang=PT>&nbsp;</span></i></p>
  </td>
 </tr>
</table>

<h1><span lang=PT>5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT style='color:white'>O ciclo de</span><span lang=PT>
jogo</span></h1>

<p class=MsoNormal><span lang=PT>O ciclo de jogo segue o seguinte algoritmo,
que opera sobre o jogador:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span lang=PT>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=PT>Verificar se o jogador venceu (chegou à linha inicial (0). Nesse caso o
jogo termina com o ecrã todo pintado a verde.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span lang=PT>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=PT>Desenho do nível de jogo: fundo verde com estradas a preto;</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span lang=PT>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=PT>Desenha avatar do jogador através de um círculo amarelo;</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=PT
style='font-size:9.0pt;font-family:"Courier New"'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=PT>Desloca as filas de tráfego, através da função </span><span
lang=PT style='font-size:9.0pt;font-family:"Courier New"'>trafego()</span><span
lang=PT>, e desenha os automóveis.  Caso o jogador seja atropelado, reposiciona-se
o avatar do jogador na última linha, como inicialmente.</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'> </span></p>

<p class=MsoNormal><span lang=PT>Escreva o seguinte código:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
draw():</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
global jogador</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
# verifica se terminou o nível</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
if jogador[1] == 0:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>       
background(&quot;green&quot;)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>       
circle(ponto(jogador), DELTA)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>       
no_loop()</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>       
return</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
# desenha nível - fundo verde com estradas a preto</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>background(&quot;green&quot;)</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
fill (&quot;black&quot;)</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
oy = 0</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
for faixa in NIVEL:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
if faixa != 0:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>           
</span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
rectangulo da faixa</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>           
rect((0,oy), LARGURA, DELTA)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>       
oy += DELTA</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
# jogador</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
fill(&quot;yellow&quot;)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
circle(ponto(jogador), DELTA)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
# atualiza filas de tráfego</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
if trafego():</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>       
# desenha veículos</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>       
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>fill(&quot;blue&quot;)</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
for fila in filas:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>           
</span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>for
carro in fila:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>               
rect(ponto(carro), DELTA, DELTA//2)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
else:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>       
# jogador atropelado - reinicia</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>       
jogador = [COMP // 2, len(NIVEL)-1]</span></p>

<h1><span lang=PT>6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT>O input do jogador</span></h1>

<p class=MsoNormal><span lang=PT>O jogador interage com o jogo através das
teclas do cursor, que lhe permitem mover o seu avatar.</span></p>

<p class=MsoNormal><span lang=PT>O código é o seguinte, que se baseia numa
seleção múltipla:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>#
controla a interação com o utilizador através do teclado</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>def
key_pressed():</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
global jogador</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
# verifica teclas premidas</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>if
key == &quot;UP&quot;:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
desloca(jogador, 0, -1)</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
elif key == &quot;DOWN&quot;:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
</span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>if
jogador[1] &lt; len(NIVEL)-1:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>           
desloca(jogador, 0, 1)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>   
</span><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>elif
key == &quot;LEFT&quot;:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
if jogador[0] &gt; 0:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>           
desloca(jogador, -1, 0)</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>   
elif key == &quot;RIGHT&quot;:</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>       
</span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>if
jogador[0] &lt; COMP-1:</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>           
desloca(jogador, 1, 0)</span></p>

<p class=MsoNormal><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>if
__name__ == '__main__':</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.0pt;font-family:"Courier New"'>  
</span><span lang=PT style='font-size:9.0pt;font-family:"Courier New"'>run()</span></p>

<h1><span lang=PT>7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=PT>Desafio final</span></h1>

<p class=MsoNormal><span lang=PT-BR>Um tipo de jogo semelhante é o clássico </span><span
lang=PT><a
href="mailto:https://www.arcade-museum.com/game_detail.php?game_id=9709"><i><span
lang=PT-BR>Speed Race</span></i></a></span><span lang=PT-BR> (1974) da Taito. Trata-se
de um jogo de desenvolvimento vertical, onde o objetivo é ultrapassar todos os
carros concorrentes, sem chocar com estes ou sair de pista.</span></p>

<p class=MsoNormal><span lang=PT-BR>Com base no código do jogo atual para o
desenvolvimento da sua versão do <i>Speed Race</i>. </span><span lang=PT>Observe
o <a href="mailto:https://www.youtube.com/watch?v=5jc9_xrD2_M">gameplay</a>
original no youtube.</span></p>

<p class=MsoNormal><span lang=PT>&nbsp;</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=75 valign=top style='width:56.45pt;border:solid windowtext 1.0pt;
  border-right:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span lang=PT><img
  border=0 width=36 height=36 id="Graphic 1"
  src="t10b_travessia.fld/image003.jpg" alt="Share with person"></span></b></p>
  </td>
  <td width=525 valign=top style='width:394.05pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-top:0cm;text-autospace:none'><span lang=PT>&nbsp;</span></p>
  <p class=MsoNormal style='margin-top:0cm;text-autospace:none'><span lang=PT>Partilhe
  o <b>seu</b> jogo!</span></p>
  <p class=MsoNormal style='margin-top:0cm;text-autospace:none'><i><span
  lang=PT>&nbsp;</span></i></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=PT>&nbsp;</span></p>

</div>

<div>

<hr class=msocomoff align=left size=1 width="33%">

<div>

<div id="_com_1" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_1','_com_1')"
onmouseout="msoCommentHide('_com_1')"><a name="_msocom_1"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=PT
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_1" class=msocomoff>[AC1]</a></span></span><span
lang=PT>Esta secção não está muito clara...</span></p>

</div>

</div>

<div>

<div id="_com_2" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_2','_com_2')"
onmouseout="msoCommentHide('_com_2')"><a name="_msocom_2"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=PT
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_2" class=msocomoff>[AC2]</a></span></span><span
lang=PT>Este truque não é muito explícito...</span></p>

</div>

</div>

</div>

</body>

</html>
